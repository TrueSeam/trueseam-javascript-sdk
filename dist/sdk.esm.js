class e{constructor(e){this.element=e,this.listeners=[]}addEventListener(e,t,n){this.element.addEventListener(e,t,n),this.listeners.push({type:e,listener:t,options:n})}attachTo(t){t instanceof e?t.element.appendChild(this.element):t.appendChild(this.element),this.onAttached()}detach(){for(this.element.remove();this.listeners.length>0;){const{type:e,listener:t,options:n}=this.listeners.pop();this.element.removeEventListener(e,t,n)}}}class t extends e{constructor({animationDefinition:e,element:t}){var n,o;super(t);const i={...e.options,duration:null!==(o=null===(n=e.options)||void 0===n?void 0:n.duration)&&void 0!==o?o:1e3},s=new KeyframeEffect(this.element,e.keyFrames,i);this.animation=new Animation(s)}onAttached(){this.animate()}animate(){console.log("animating"),this.animation.play()}}class n extends e{constructor({element:e}){super(e)}onAttached(){}}function o(e,t){Object.assign(e.style,t)}class i{constructor(){this.containerElement=function(){const e=document.createElement("div");return e.id="cozyhome-container",o(e,{position:"fixed",inset:"0",zIndex:"2147483647",display:"flex",justifyContent:"center",alignItems:"center"}),new n({element:e})}(),this.backdropElement=function(){const e=document.createElement("div");return e.id="cozyhome-backdrop",o(e,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(2px)",zIndex:"0"}),new n({element:e})}(),this.backdropElement.addEventListener("click",()=>this.closePopup()),this.frameElement=function(){const e=document.createElement("div");return e.id="cozyhome-frame",o(e,{width:"800px",height:"0px",background:"black",zIndex:"1",borderRadius:"12px",borderTop:"3px solid black",borderBottom:"3px solid black"}),new t({element:e,animationDefinition:{keyFrames:[{width:"0px",height:"0px",borderTop:"3px solid black",borderBottom:"3px solid black"},{width:"800px",height:"0px",offset:.5,borderTop:"3px solid black",borderBottom:"3px solid black"},{width:"800px",height:"600px",offset:1,borderTop:"0px",borderBottom:"0px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"}],options:{fill:"forwards",easing:"ease-in-out"}}})}(),this.containerElement.attachTo(document.body)}destroy(){this.containerElement.detach()}openPopup(){this.backdropElement.attachTo(this.containerElement),this.frameElement.attachTo(this.containerElement)}closePopup(){this.backdropElement.detach(),this.frameElement.detach()}}class s{constructor(){this.clientToken=null,this.overlayManager=new i}init(e){this.clientToken=e.clientToken,console.log("SDK initialized with token:",this.clientToken)}open(){console.log("opening"),this.overlayManager.openPopup()}close(){this.overlayManager.closePopup()}}window.CozyHome=new s;export{s as CozyHome};
//# sourceMappingURL=sdk.esm.js.map
