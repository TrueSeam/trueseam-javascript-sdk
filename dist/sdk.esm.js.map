{"version":3,"file":"sdk.esm.js","sources":["../src/types/elements/Mountable.ts","../src/types/elements/BaseElement.ts","../src/types/elements/DelayableAnimatableElement.ts","../src/types/elements/custom/FrameContentElement.ts","../src/types/elements/custom/FrameContainerElement.ts","../src/types/overlay/OverlayManager.ts","../src/utils/dom.ts","../src/index.ts"],"sourcesContent":["type Listener = {\n  type: string;\n  listener: EventListenerOrEventListenerObject;\n  options?: boolean | AddEventListenerOptions;\n};\n\nexport abstract class Mountable<TElement extends HTMLElement = HTMLElement> {\n  private readonly listeners: Array<Listener> = [];\n\n  constructor(protected readonly element: TElement) {}\n\n  protected abstract onAttached(): void;\n\n  public addEventListener<K extends keyof HTMLElementEventMap>(\n    type: K,\n    listener: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ) {\n    this.element.addEventListener(type, listener, options);\n    this.listeners.push({\n      type,\n      listener,\n      options,\n    });\n  }\n\n  /**\n   * Attaches the element to a parent element\n   * @param parent The parent element\n   */\n  public attachTo(parent: Mountable | TElement): void {\n    if (parent instanceof Mountable) {\n      parent.element.appendChild(this.element);\n    } else {\n      parent.appendChild(this.element);\n    }\n    this.onAttached();\n  }\n\n  /**\n   * Detaches the current element from the tree\n   */\n  public detach(): void {\n    this.element.remove();\n  }\n\n  /**\n   * Detaches the current element and performs cleanup\n   */\n  public destroy(): void {\n    this.detach();\n    while (this.listeners.length > 0) {\n      const { type, listener, options } = this.listeners.pop()!;\n      this.element.removeEventListener(type, listener, options);\n    }\n  }\n\n  /**\n   * Applies styles to the element\n   * @param style A style object\n   */\n  public style(style: Partial<CSSStyleDeclaration>): void {\n    Object.assign(this.element.style, style);\n  }\n}\n","import { Mountable } from \"./Mountable\";\n\nexport class BaseElement<\n  TElement extends HTMLElement\n> extends Mountable<TElement> {\n  constructor({ element }: { element: TElement }) {\n    super(element);\n  }\n\n  protected onAttached(): void {}\n}\n","import { AnimationDefintion } from \"./index\";\nimport { Mountable } from \"./Mountable\";\n\nexport class DelayableAnimatableElement extends Mountable {\n  private readonly animation: Animation;\n\n  constructor({\n    animationDefinition,\n    element,\n  }: {\n    animationDefinition: AnimationDefintion;\n    element: HTMLElement;\n  }) {\n    super(element);\n    const resolvedOptions: KeyframeEffectOptions = {\n      ...animationDefinition.options,\n      duration: animationDefinition.options?.duration ?? 1000,\n    };\n    const keyFrameEffect = new KeyframeEffect(\n      this.element,\n      animationDefinition.keyFrames,\n      resolvedOptions\n    );\n    this.animation = new Animation(keyFrameEffect);\n  }\n\n  protected onAttached(): void {\n    this.animate();\n  }\n\n  public animate(): void {\n    this.animation.play();\n  }\n\n  public finish(): void {\n    this.animation.cancel();\n  }\n}\n","import { Mountable } from \"../Mountable\";\n\nconst EXTERNAL_URL = \"http://localhost:3000\";\n\nexport class FrameContentElement extends Mountable<HTMLIFrameElement> {\n  private readonly handleMessage: (event: MessageEvent) => void;\n  private readonly handleExpandPopup: VoidFunction;\n  private readonly handleClosePopup: VoidFunction;\n  private readonly handleContractPopup: VoidFunction;\n\n  constructor({\n    element,\n    methods,\n  }: {\n    element: HTMLIFrameElement;\n    methods: {\n      onClose: VoidFunction;\n      expandPopup: VoidFunction;\n      contractPopup: VoidFunction;\n    };\n  }) {\n    super(element);\n    this.handleClosePopup = methods.onClose;\n    this.handleContractPopup = methods.contractPopup;\n    this.handleExpandPopup = methods.expandPopup;\n    this.handleMessage = this.onMessage.bind(this);\n    window.addEventListener(\"message\", this.handleMessage);\n  }\n\n  private onMessage(event: MessageEvent): void {\n    if (event.origin !== EXTERNAL_URL) return;\n\n    if (event.data.type === \"CLOSE\") {\n      this.handleClosePopup();\n    } else if (event.data.type === \"EXPAND\") {\n      this.handleExpandPopup();\n    } else if (event.data.type === \"CONTRACT\") {\n      this.handleContractPopup();\n    } else {\n      console.warn(\"Recv an unexpected message type:\", event.data.type);\n    }\n  }\n\n  private onLoaded(): void {\n    this.element.contentWindow?.postMessage(\n      {\n        type: \"SETUP\",\n      },\n      EXTERNAL_URL\n    );\n  }\n\n  protected onAttached(): void {\n    this.element.onload = this.onLoaded.bind(this);\n  }\n\n  public destroy(): void {\n    window.removeEventListener(\"message\", this.handleMessage);\n  }\n}\n","import { DelayableAnimatableElement } from \"../DelayableAnimatableElement\";\nimport { AnimationDefintion } from \"../index\";\nimport { FrameContentElement } from \"./FrameContentElement\";\n\nexport class FrameContainerElement extends DelayableAnimatableElement {\n  public static width: number = 800;\n  public static height: number = 600;\n  private isOpened: boolean = false;\n  private readonly frameContent: FrameContentElement;\n\n  constructor({\n    element,\n    animationDefinition,\n    onClose,\n  }: {\n    element: HTMLDivElement;\n    animationDefinition: AnimationDefintion;\n    onClose: VoidFunction;\n  }) {\n    super({\n      element,\n      animationDefinition,\n    });\n    this.frameContent = createFrameContent({\n      onClose,\n      expandPopup: this.expand.bind(this),\n      contractPopup: this.contract.bind(this),\n    });\n  }\n\n  public setIsOpened(isOpened: boolean): void {\n    this.isOpened = isOpened;\n  }\n\n  public expand(): void {\n    if (this.isOpened) {\n      this.finish();\n      this.element.style.setProperty(\"width\", \"100%\", \"important\");\n      this.element.style.setProperty(\"height\", \"100%\", \"important\");\n      this.element.style.setProperty(\"border-radius\", \"0px\", \"important\");\n    }\n  }\n\n  public contract(): void {\n    if (this.isOpened) {\n      this.finish();\n      this.element.style.setProperty(\n        \"width\",\n        `${FrameContainerElement.width}px`,\n        \"important\"\n      );\n      this.element.style.setProperty(\n        \"height\",\n        `${FrameContainerElement.height}px`,\n        \"important\"\n      );\n      this.element.style.setProperty(\"border-radius\", \"12px\", \"important\");\n    }\n  }\n\n  public detach(): void {\n    this.element.style.setProperty(\"width\", `${FrameContainerElement.width}px`);\n    this.element.style.setProperty(\n      \"height\",\n      `${FrameContainerElement.height}px`\n    );\n    this.element.style.setProperty(\"border-radius\", \"12px\", \"important\");\n    super.detach();\n  }\n\n  protected onAttached(): void {\n    this.frameContent.attachTo(this);\n    super.onAttached();\n  }\n}\n\nfunction createFrameContent(methods: {\n  onClose: VoidFunction;\n  expandPopup: VoidFunction;\n  contractPopup: VoidFunction;\n}): FrameContentElement {\n  const content = document.createElement(\"iframe\");\n  content.id = \"cozyhome-content\";\n  content.src = \"http://localhost:3000/embed\";\n  const frameContentEl = new FrameContentElement({\n    element: content,\n    methods,\n  });\n  frameContentEl.style({\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"100%\",\n    height: \"100%\",\n    boxSizing: \"border-box\",\n    color: \"white\",\n    border: \"none\",\n  });\n  return frameContentEl;\n}\n","import { Mountable } from \"../elements/Mountable\";\nimport { createBackdrop, createContainer, createFrame } from \"../../utils/dom\";\nimport { FrameContainerElement } from \"../elements/custom/FrameContainerElement\";\n\nexport class OverlayManager {\n  private readonly containerElement: Mountable;\n  private readonly backdropElement: Mountable;\n  private readonly frameContainerElement: FrameContainerElement;\n\n  private previousBodyOverflow?: string;\n\n  constructor() {\n    this.containerElement = createContainer();\n    this.backdropElement = createBackdrop(this.closePopup.bind(this));\n    this.frameContainerElement = createFrame(this.closePopup.bind(this));\n  }\n\n  public openPopup(): void {\n    this.containerElement.attachTo(document.body);\n    this.backdropElement.attachTo(this.containerElement);\n    this.frameContainerElement.attachTo(this.containerElement);\n\n    const body = document.body;\n    this.previousBodyOverflow = body.style.overflow;\n    body.style.overflow = \"hidden\";\n\n    this.frameContainerElement.setIsOpened(true);\n  }\n\n  public closePopup(): void {\n    this.frameContainerElement.detach();\n    this.backdropElement.detach();\n    this.containerElement.detach();\n\n    if (this.previousBodyOverflow !== undefined) {\n      document.body.style.overflow = this.previousBodyOverflow;\n      this.previousBodyOverflow = undefined;\n    } else {\n      document.body.style.overflow = \"\";\n    }\n\n    this.frameContainerElement.setIsOpened(false);\n  }\n\n  public destroy(): void {\n    this.frameContainerElement.destroy();\n    this.backdropElement.destroy();\n    this.containerElement.destroy();\n  }\n}\n","import { Mountable } from \"../types/elements/Mountable\";\nimport { DelayableAnimatableElement } from \"../types/elements/DelayableAnimatableElement\";\nimport { BaseElement } from \"../types/elements/BaseElement\";\nimport { FrameContentElement } from \"../types/elements/custom/FrameContentElement\";\nimport { FrameContainerElement } from \"../types/elements/custom/FrameContainerElement\";\n\nexport function createContainer(): Mountable {\n  const container = document.createElement(\"div\");\n  container.id = \"cozyhome-container\";\n  const containerEl = new BaseElement({ element: container });\n  containerEl.style({\n    position: \"fixed\",\n    inset: \"0\",\n    zIndex: \"2147483647\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  });\n  return containerEl;\n}\n\nexport function createBackdrop(onClick: () => void): Mountable {\n  const backdrop = document.createElement(\"div\");\n  backdrop.id = \"cozyhome-backdrop\";\n  const element = new BaseElement({ element: backdrop });\n  element.style({\n    position: \"absolute\",\n    top: \"0\",\n    left: \"0\",\n    right: \"0\",\n    bottom: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    background: \"rgba(0, 0, 0, 0.5)\",\n    backdropFilter: \"blur(2px)\",\n    zIndex: \"0\",\n  });\n  element.addEventListener(\"click\", onClick);\n  return element;\n}\n\nexport function createFrame(onClose: VoidFunction): FrameContainerElement {\n  const frame = document.createElement(\"div\");\n  frame.id = \"cozyhome-frame\";\n  const frameEl = new FrameContainerElement({\n    element: frame,\n    onClose,\n    animationDefinition: {\n      keyFrames: [\n        {\n          width: \"0px\",\n          height: \"0px\",\n          borderTop: \"3px solid black\",\n          borderBottom: \"3px solid black\",\n        },\n        {\n          width: `${FrameContainerElement.width}px`,\n          height: \"0px\",\n          offset: 0.5,\n          borderTop: \"3px solid black\",\n          borderBottom: \"3px solid black\",\n        },\n        {\n          width: `${FrameContainerElement.width}px`,\n          height: `${FrameContainerElement.height}px`,\n          offset: 1,\n          borderTop: \"0px\",\n          borderBottom: \"0px\",\n          boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.3)\",\n        },\n      ],\n      options: {\n        fill: \"forwards\",\n        easing: \"ease-in-out\",\n      },\n    },\n  });\n  frameEl.style({\n    width: `${FrameContainerElement.width}px`,\n    height: `${FrameContainerElement.height}px`,\n    background: \"black\",\n    zIndex: \"1\",\n    borderRadius: \"12px\",\n    borderTop: \"3px solid black\",\n    borderBottom: \"3px solid black\",\n    overflow: \"hidden\",\n    position: \"relative\",\n    transition: \"width 1s ease, height 1s ease, border-radius 0.5s ease\",\n  });\n  return frameEl;\n}\n","import { OverlayManager } from \"./types/overlay/OverlayManager\";\n\n// src/index.ts\nexport class CozyHome {\n  private clientToken: string | null = null;\n  private readonly overlayManager: OverlayManager;\n\n  constructor() {\n    this.overlayManager = new OverlayManager();\n  }\n\n  public init = (options: { clientToken: string }): void => {\n    this.clientToken = options.clientToken;\n  };\n\n  public open = (): void => {\n    this.overlayManager.openPopup();\n  };\n\n  public close = (): void => {\n    this.overlayManager.closePopup();\n  };\n}\n\n(window as any).CozyHome = new CozyHome();\n"],"names":["Mountable","constructor","element","this","listeners","addEventListener","type","listener","options","push","attachTo","parent","appendChild","onAttached","detach","remove","destroy","length","pop","removeEventListener","style","Object","assign","BaseElement","super","DelayableAnimatableElement","animationDefinition","resolvedOptions","duration","_a","_b","keyFrameEffect","KeyframeEffect","keyFrames","animation","Animation","animate","play","finish","cancel","EXTERNAL_URL","FrameContentElement","methods","handleClosePopup","onClose","handleContractPopup","contractPopup","handleExpandPopup","expandPopup","handleMessage","onMessage","bind","window","event","origin","data","console","warn","onLoaded","contentWindow","postMessage","onload","FrameContainerElement","isOpened","frameContent","content","document","createElement","id","src","frameContentEl","position","top","left","transform","display","flexDirection","justifyContent","alignItems","width","height","boxSizing","color","border","createFrameContent","expand","contract","setIsOpened","setProperty","OverlayManager","containerElement","container","containerEl","inset","zIndex","createContainer","backdropElement","onClick","backdrop","right","bottom","background","backdropFilter","createBackdrop","closePopup","frameContainerElement","frame","frameEl","borderTop","borderBottom","offset","boxShadow","fill","easing","borderRadius","overflow","transition","createFrame","openPopup","body","previousBodyOverflow","undefined","CozyHome","clientToken","init","open","overlayManager","close"],"mappings":"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"}